<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <title>US Energy Consumption</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/foundation.css">
    <script type="application/javascript">
        // `energy_type` and object of consumption per year per state => set these variables equal to appropriate value
        //   * these variables will be defined and accessible from any script loaded after this one
        var energy_type = {{{ ENERGY_TYPE }}};
        var energy_counts = {{{ ENERGY_COUNTS }}}; // dictionary of arrays (e.g. {AK: [...], AL: [...], AR: [...], ...})
        window.onload = function () {

            var chart = new CanvasJS.Chart("chartContainer", {
                animationEnabled: true,
                theme: "light2",
                title: {
                    text: "Energy Consumption by Resource"
                },
                axisX: {
                    valueFormatString: "DD MMM",
                    crosshair: {
                        enabled: true,
                        snapToDataPoint: true
                    }
                },
                axisY: {
                    title: "Number of Visits",
                    includeZero: true,
                    crosshair: {
                        enabled: true
                    }
                },
                toolTip: {
                    shared: true
                },
                legend: {
                    cursor: "pointer",
                    verticalAlign: "bottom",
                    horizontalAlign: "left",
                    dockInsidePlotArea: true,
                    itemclick: toogleDataSeries
                },
                data: [{
                    type: "line",
                    showInLegend: true,
                    name: "Total Visit",
                    markerType: "square",
                    xValueFormatString: "DD MMM, YYYY",
                    color: "#F08080",
                    dataPoints: [
                        { x: new Date(2017, 0, 3), y: 650 },
                        { x: new Date(2017, 0, 4), y: 700 },
                        { x: new Date(2017, 0, 5), y: 710 },
                        { x: new Date(2017, 0, 6), y: 658 },
                        { x: new Date(2017, 0, 7), y: 734 },
                        { x: new Date(2017, 0, 8), y: 963 },
                        { x: new Date(2017, 0, 9), y: 847 },
                        { x: new Date(2017, 0, 10), y: 853 },
                        { x: new Date(2017, 0, 11), y: 869 },
                        { x: new Date(2017, 0, 12), y: 943 },
                        { x: new Date(2017, 0, 13), y: 970 },
                        { x: new Date(2017, 0, 14), y: 869 },
                        { x: new Date(2017, 0, 15), y: 890 },
                        { x: new Date(2017, 0, 16), y: 930 }
                    ]
                },
                {
                    type: "line",
                    showInLegend: true,
                    name: "Unique Visit",
                    dataPoints: [
                        { x: new Date(2017, 0, 3), y: 510 },
                        { x: new Date(2017, 0, 4), y: 560 },
                        { x: new Date(2017, 0, 5), y: 540 },
                        { x: new Date(2017, 0, 6), y: 558 },
                        { x: new Date(2017, 0, 7), y: 544 },
                        { x: new Date(2017, 0, 8), y: 693 },
                        { x: new Date(2017, 0, 9), y: 657 },
                        { x: new Date(2017, 0, 10), y: 663 },
                        { x: new Date(2017, 0, 11), y: 639 },
                        { x: new Date(2017, 0, 12), y: 673 },
                        { x: new Date(2017, 0, 13), y: 660 },
                        { x: new Date(2017, 0, 14), y: 562 },
                        { x: new Date(2017, 0, 15), y: 643 },
                        { x: new Date(2017, 0, 16), y: 570 }
                    ]
                }]
            });
            chart.render();

            function toogleDataSeries(e) {
                if (typeof (e.dataSeries.visible) === "undefined" || e.dataSeries.visible) {
                    e.dataSeries.visible = false;
                } else {
                    e.dataSeries.visible = true;
                }
                chart.render();
            }

        }
    </script>
</head>

<body>
    <button type="button" class="button" href="/year/2018">HOME</button>
    <button type="button" class="button" data-toggle="offCanvas">STATE</button>
    <div class="off-canvas position-top" id="offCanvas" data-off-canvas>
        <ul class="menu vertical">
            {{{STATE_BUTTONS}}}

        </ul>
    </div><button type="button" class="button" data-toggle="offCanvas">YEAR</button>
    <div class="off-canvas position-top" id="offCanvas" data-off-canvas>
        <ul class="menu vertical">
            {{{YEAR_BUTTONS}}}
        </ul>
    </div>
    <button type="button" class="button" data-toggle="offCanvas">ENERGY SOURCE</button>
    <div class="off-canvas position-top" id="offCanvas" data-off-canvas>
        <ul class="menu vertical">
            <li><a href="/coal" target="_self">Coal</a></li>
            <li><a href="/natural_gas" target="_self">Natural Gas</a></li>
            <li><a href="/nuclear" target="_self">Nuclear</a></li>
            <li><a href="/petroleum" target="_self">Petroleum</a></li>
            <li><a href="/renewable" target="_self">Renewable</a></li>
        </ul>
    </div>


    <div class="grid-y">
        <div class="grid-x grid-padding-x grid-padding-x">
            <div class="cell small-auto medium-5 center">
                <br><br><br>
                <h1><b>{{{TOPENERGY}}}</b></h1>
            </div>
            <div class="cell small-auto medium-7 center">
                <br>
                <img src="{{{ENERGYIMG}}}" width="300" height="200" alt="Image of energy source" />
            </div>
        </div>
    </div>
    <br>
    <table>
        <thead>
            <tr>
                <th>Year</th>
                {{{TABLEH}}}
            </tr>
        </thead>
        <tbody>
            {{{TABLEC}}}
        </tbody>
    </table>

    <a href="{{{PREV}}}" class="previous">&laquo; Previous</a>
    <a href="{{{NEXT}}}" class="next">Next &raquo;</a>
    <br>

    <script src="../js/jquery-3.6.0.min.js"></script>
    <script src="../js/vendor.js"></script>
    <script src="../js/foundation.js"></script>
    <script type="application/javascript">
        $(document).foundation();
    </script>
<div id="chartContainer" style="height: 370px; width: 100%;"></div>
<script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>

</body>

</html>